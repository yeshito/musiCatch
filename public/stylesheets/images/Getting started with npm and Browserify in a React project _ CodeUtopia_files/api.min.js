/*! built on Mon Sep 19 2016 19:16:51 */var OptinMonsterAppOptins={},OptinMonsterAppLinkSlugs={},OptinMonsterAppVariables={},OptinMonsterAppStorage=OptinMonsterAppStorage||!1,OptinMonsterAppPosition=0,OptinMonsterAppPopupLoaded=!1,om_loaded=!0,OptinMonsterApp=function(){this["public"]={},this.messages=[],this.loggedMessages=[],this.pageStartTime=Date.now(),this.passingCookieNames=[],this.passingQueryArgKeys=[],this.resizeTimer=0,this.delayIncrement=500,this.isLteIE8=document.all&&!document.addEventListener,this.init=function(a){for(key in a)this["public"][key]=a[key];this.isLteIE8||(this.setDefaults(),this.setSessions(),this.getProp("preview")?this.run():this.loadjQuery())},this.setSessions=function(){if("object"==typeof sessionStorage)try{if(!OptinMonsterAppStorage){OptinMonsterAppStorage=!0;var a=sessionStorage.getItem("om-session-start");null===a&&sessionStorage.setItem("om-session-start",this.getCurrentTimestamp());var b=sessionStorage.getItem("om-session-pageviews");null===b?sessionStorage.setItem("om-session-pageviews",1):sessionStorage.setItem("om-session-pageviews",++b)}}catch(c){}},this.run=function(){this.setVisibilityDefaults(),this.loadjQuery()},this.setVisibilityDefaults=function(){var a=this,b=a.getProp("type");"slide"==b&&this.setProp("slide_open",!1),OptinMonsterAppOptins[this.getProp("optin_js")]={type:b,visible:!1}},this.loadjQuery=function(){var a=this,b=!1,c="undefined"==typeof om_load_jquery?!0:!1;if(c)if(void 0===window.jQuery){var d=document.createElement("script");d.src="//ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js",d.onload=d.onreadystatechange=function(){var c=this.readyState;if(!c||"complete"==c||"loaded"==c)try{b||(a.loadjQueryHandler(!1),b=!0)}catch(d){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(d)}else if("1.12.2"!==window.jQuery.fn.jquery){this["public"].ejQuery=window.jQuery;var d=document.createElement("script");d.src="//ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js",d.onload=d.onreadystatechange=function(){var c=this.readyState;if(!c||"complete"==c||"loaded"==c)try{b||(a.loadjQueryHandler(!0),b=!0)}catch(d){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(d)}else a["public"].$=a["public"].ejQuery=window.jQuery,a.loadApp();else a["public"].$=a["public"].ejQuery=window.jQuery,a.loadApp()},this.loadjQueryHandler=function(a){a?(this["public"].$=window.jQuery.noConflict(!0),this.loadApp()):(jQuery=window.jQuery.noConflict(!0),this["public"].$=this["public"].ejQuery=jQuery,"undefined"==typeof window.$&&(window.$=jQuery),this.loadApp())},this.loadApp=function(){var a=this;a["public"].$(document).ready(function(b){a.corsPatch(),a.runOptinMonster()})},this.runOptinMonster=function(){if(this.getProp("preview"))this.trigger("OptinMonsterInit"),this.fonts(!0);else{if(this.registerVariables(),this.trigger("OptinMonsterInit"),this.getProp("sitewide"))return void this.trigger("OptinMonsterSiteLoaded");if(this.getProp("s")){var a=this.getProp("s").split("."),b=this.retrieveSiteSuccess(this),c=this.retrieveError(this),d=a[0],e=a[1],f=this.getProp("api_site")+d+"/"+e;this.setProp("site_id",e)}else var a=this.getProp("u").split("."),b=this.retrieveSuccess(this),c=this.retrieveError(this),d=a[0],g=a[1],f=this.getProp("api_optin")+d+"/"+g;this.requestJSONP(f,b,c)}},this.retrieveSiteSuccess=function(a){var b=a.getProp("$"),c={};return function(d){b.each(d,function(d,e){return e?(c[d]={},void b.each(e,function(b,e){var f=a.getProp("s").split("."),g=f[0];e.u=g+"."+e.output.id,e.dev=a.getProp("dev"),e.staging=a.getProp("staging"),e.beta=a.getProp("beta"),e.sitewide=!0,c[d][b]=e})):!0});var e=a.getjQueryTrigger();a.getProp("ejQuery")(document)[e]("OptinMonsterSiteLoaded",function(a,d,e){b.each(c,function(a,c){b.each(c,function(a,b){b.output.optin_js==d.output.optin_js&&e.retrieveSuccess(e)(c)})})}),b.each(c,function(a,c){b.each(c,function(a,c){if(c.hasOwnProperty("output")&&c.output.hasOwnProperty("optin_js")&&window[c.output.optin_js])return!0;if(c.hasOwnProperty("is_clone"))return!0;if(c.hasOwnProperty("type")&&"post"!==c.type&&"sidebar"!==c.type){var d=b("#om-"+c.output.optin+"-holder");0===d.length&&b("body").append('<div id="om-'+c.output.optin+'-holder" />')}window[c.output.optin_js]=new OptinMonsterApp,window[c.output.optin_js].init(c)})})}},this.retrieveSuccess=function(a){var b=a.getProp("$");return function(c){var d=b.map(c,function(a,b){return[a]}),e=[],f=!1;b.each(d,function(a,b){b.output.hasOwnProperty("id")&&(e[a]=b.output.id)});for(prop in d)"undefined"!=typeof d[prop]&&(d[prop].hasOwnProperty("original")&&(a.setProp("original_id",d[prop].output.id),a.setProp("original_optin",d[prop].output.optin),a.setProp("original_js",d[prop].output.optin_js)),d[prop].hasOwnProperty("primary")&&d[prop].hasOwnProperty("campaign_status")&&"paused"==d[prop].campaign_status&&a.setProp("campaign_status","paused"),d[prop].hasOwnProperty("campaign_status")&&"paused"==d[prop].campaign_status&&(d[prop].hasOwnProperty("original")||(f=d.splice(prop,1))));if(0!==d.length){a.getProp("original_id")||(a.setProp("original_id",d[0].output.id),a.setProp("original_optin",d[0].output.optin),a.setProp("original_js",d[0].output.optin_js));var g=a.pickRandomKey(d);for(key in d[g])d[g].hasOwnProperty(key)&&(a["public"][key]=d[g][key]);for(prop in a["public"].output)a["public"].output.hasOwnProperty(prop)&&(a["public"][prop]=a["public"].output[prop]);f&&d.push(f.shift());var h=!1;if(b.each(d,function(c,d){if(d.output.hasOwnProperty("optin")&&!h){var e=b("#om-"+d.output.optin+"-holder");e.length>0&&(h=!0,e.attr("id","om-"+a.getProp("optin")+"-holder"))}}),a.setProp("clones",e),"full-page-takeover"==a.getProp("type")&&a.isMobile()&&a.setProp("exit",0),a.getProp("preview"))return void a.fonts(!0);if(a.getProp("builderv3_saved")){a.setVisibilityDefaults(),a.globalHideArg()&&(a.createCookie("om-global-cookie",1,a.getSiteProp("global_cookie")),a.createCookie("om-interaction-cookie",1,a.getSiteProp("global_interaction_cookie")));var i,j=!1,k=a.getProp("type"),l=a.getRulesetRegistry(JSON.parse(a.getProp("rules_engine").rulesets.replace(/\\/g,"\\\\"))),m=a.processRulesets(l),n=a.anyRulesetsPassed(m);n&&a.loadPreCheck()&&(j=!0,a.fonts(!0),("post"==k||"sidebar"==k)&&a.setProp("forceShow",!0));var o=setInterval(function(){m=a.processRulesets(l),n=a.anyRulesetsPassed(m);{var b=OptinMonsterAppOptins[a.getProp("optin_js")].visible,c={},d=!1,e=!1,f=!1;m.map(function(b,e){return c[b.hash]=!1,b.allRulesPassed&&b.hasExitIntent?(a.createExitEvent(a.getProp("optin_js"),b.hash),c[b.hash]=d=!0):!b.allRulesPassed&&b.hasExitIntent&&(a.destroyExitEvent(a.getProp("optin_js"),b.hash),c[b.hash]=d=!1),c}.bind(this)),m.map(function(b,c){return b.hasMonsterLink?(a.createMonsterLinkEvent(a.getProp("optin_js"),b.hash),e=!0):!b.allRulesPassed&&b.hasMonsterLink&&(a.destroyMonsterLinkEvent(a.getProp("optin_js"),b.hash),e=!1),e}.bind(this))}b||a.loadPreCheck(e)&&(i=m.filter(function(b){return b.allRulesPassed&&(j||(j=!0,a.fonts(!0),c[b.hash]||e||(f=!0,a.setProp("forceShow",!0)))),b.allRulesPassed&&!b.hasExitIntent&&!b.hasMonsterLink}),l=m.filter(function(a){return!a.allRulesPassed||a.keepAlive||a.hasExitIntent&&a.keepAlive||a.hasMonsterLink&&a.keepAlive}),i.length>0&&(d||e||f||a.show())),(b||0===l.length)&&clearInterval(o)},500)}else a.canLoad()&&a.fonts(!0)}}},this.processRulesets=function(a){return a.map(function(a){return a.allRulesPassed=this.checkRules(a.rules),a.hasMonsterLink&&(a.allRulesPassed=!0),a}.bind(this))},this.anyRulesetsPassed=function(a){var b=a.filter(function(a){return a.allRulesPassed===!0});return b.length>0},this.checkRules=function(a){var b=a.map(function(a){var b=a.map(function(a){return a.conditionType(a.conditionOperator,a.conditionValue,a.conditionUnit)});return b.every(function(a){return a===!0})});return b.every(function(a){return a===!0})},this.rulesetShouldKeepAlive=function(a){var b=!1,c=this.getProp("$");return c.each(a,function(a,c){var d=("time-delay"===c.rule||"scroll"===c.rule)&&c.conditions[0].length>1;return d?(b=!0,!1):void 0}),b},this.rulesetHasExitIntent=function(a){var b=!1,c=this.getProp("$");return c.each(a,function(a,c){var d="exit-intent"===c.rule;return d?(b=!0,!1):void 0}),b},this.rulesetHasMonsterLink=function(a){var b=!1,c=this.getProp("$");return c.each(a,function(a,c){var d="monsterlink"===c.rule;return d?(b=!0,!1):void 0}),b},this.rulesetHasDateRule=function(a){var b=!1,c=this.getProp("$");return c.each(a,function(a,d){var e="datetime"===d.rule;return e?(b=!0,(void 0===window.moment||"2.14.1"!==window.moment.version)&&c.when(c.getScript("//cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js"),c.Deferred(function(a){c(a.resolve)})).done(function(){c.getScript("//cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.4/moment-timezone-with-data.min.js")}),!1):void 0}),b},this.rulesetHasDeviceRule=function(a){var b=!1,c=this.getProp("$");return c.each(a,function(a,d){var e="mobile"===d.rule;return e?(b=!0,void 0===window.MobileDetect&&c.when(c.getScript("//cdn.jsdelivr.net/mobile-detect.js/1.3.2/mobile-detect.min.js"),c.Deferred(function(a){c(a.resolve)})).done(function(){return!1}),!1):void 0}),b},this.getRulesetRegistry=function(a){return a.map(function(a){var b=this.getActiveRules(a.rules);return a.hasMonsterLink=this.rulesetHasMonsterLink(b),a.hasExitIntent=this.rulesetHasExitIntent(b)&&!a.hasMonsterLink,a.keepAlive=this.rulesetShouldKeepAlive(b)&&!a.hasMonsterLink,a.hasDateRule=this.rulesetHasDateRule(b),a.hasDeviceRule=this.rulesetHasDeviceRule(b),a.hash=Math.random().toString(36).slice(2),a.rules=this.buildRuleCallable(b,a.hash),a}.bind(this))},this.getActiveRules=function(a){return a.filter(function(a){return a.active===!0})},this.buildRuleCallable=function(a,b){return a.map(function(a){return a.conditions[0].map(function(a){return{conditionType:this.getRuleMethod(a.type,"rule"),conditionOperator:"undefined"!=typeof a.operator?this.getRuleMethod(a.operator,"operator"):void 0,conditionValue:a.value||void 0,conditionUnit:a.unit||void 0,hash:b,app:this}}.bind(this))}.bind(this))},this.getRuleMethod=function(a,b){b="undefined"==typeof b?"":b,a=a?a:"";for(var c=a.split("-"),d=[],e=0;e<c.length;e++)d.push(c[e].charAt(0).toUpperCase()+c[e].slice(1));var f=b+d.join("");return this[f]},this.ruleExitSensitivity=function(a,b){return"undefined"==typeof b?this.app.setProp("exit_sensitivity",20):this.app.setProp("exit_sensitivity",parseInt(b)),!0},this.rulePageTime=function(a,b){if("undefined"==typeof b)return!0;if("post"==this.app.getProp("type")||"sidebar"==this.app.getProp("type"))return!0;var c="undefined"==typeof b?0:1e3*parseInt(b);"slide"==this.app.getProp("type")&&this.app.getProp("slide_toggle")&&this.app.setProp("delay",c),this.app.isPopup(this.app.getProp("type"))&&(OptinMonsterAppOptins.hasOwnProperty(this.app.getProp("optin_js"))&&!OptinMonsterAppOptins[this.app.getProp("optin_js")].hasOwnProperty(this.hash)?(c+=parseInt(this.app.delayIncrement*OptinMonsterAppPosition),OptinMonsterAppOptins[this.app.getProp("optin_js")][this.hash]={},OptinMonsterAppOptins[this.app.getProp("optin_js")][this.hash].delay=c,OptinMonsterAppPosition++):c=OptinMonsterAppOptins[this.app.getProp("optin_js")][this.hash].delay);var d=this.app.pageStartTime+c;return a(this.app.getCurrentTimestamp(),d)},this.ruleSiteTime=function(a,b){if("undefined"==typeof b)return!0;if("post"==this.app.getProp("type")||"sidebar"==this.app.getProp("type"))return!0;var c="undefined"==typeof b?0:1e3*parseInt(b),d=this.app.getSessionStartTime()+c;return a(this.app.getCurrentTimestamp(),d)},this.ruleScroll=function(a,b,c){if("undefined"==typeof b)return!0;if("post"==this.app.getProp("type")||"sidebar"==this.app.getProp("type"))return!0;var d=this.app.getScrollAmount(c);return"slide"==this.app.getProp("type")&&this.app.getProp("slide_toggle")&&1!==c&&(this.app.setProp("scroll",parseInt(b)),this.app.setProp("slide_scroll",!0)),a(d,parseInt(b))},this.ruleMonsterlink=function(a,b){return this.app.setProp("click",!0),!0},this.ruleUrlPath=function(a,b){if("undefined"==typeof b){var c=a.toString();if(c.indexOf("value === null || value === undefined || value.length === 0")<0&&c.indexOf("null===a||void 0===a||0===a.length")<0&&c.indexOf("value !== null && value !== undefined && value.length > 0")<0&&c.indexOf("null!==a&&void 0!==a&&a.length>0")<0)return!0}return b="undefined"==typeof b?b:b.replace(/^\/|\/$/g,""),a(this.app.getUrlPath(),b)},this.ruleUrlHash=function(a,b){return"undefined"==typeof b?!0:a(this.app.getUrlHash(),b)},this.ruleMobile=function(a,b){if("undefined"==typeof window.MobileDetect)return!1;var c=new MobileDetect(window.navigator.userAgent);return this.app.setProp("mobile_checked",!0),a||(a=this.app.operatorDeviceOn),b?"desktop"===b?!1===this.app.isMobile():"function"!=typeof c[b]?!1:a(c[b]()):this.app.isMobile()},this.ruleReferrer=function(a,b){if("undefined"==typeof b)return!0;var c=this.app.getReferrer();return a(c,b)},this.rulePageviews=function(a,b){return"undefined"==typeof b?!0:a(parseInt(this.app.getSessionPageviews()),parseInt(b))},this.ruleQueryArgKey=function(a,b){if("undefined"==typeof b)return!0;var c=this.app.getQueryParameters(),d=Object.keys(c).map(function(d){return a(d,b,c)?(this.app.passingQueryArgKeys.push(d),!0):!1}.bind(this));return d.some(function(a){return a})},this.ruleQueryArgValue=function(a,b){if("undefined"==typeof b)return!0;var c=this.app.passingQueryArgKeys;if(0===c.length)return!1;var d=c.map(function(c){return a(this.app.getQueryArgValue(c),b)}.bind(this));return d.some(function(a){return a})},this.ruleCookieName=function(a,b){if("undefined"==typeof b)return!0;var c=this.app.getCookies(),d=Object.keys(c).map(function(d){return a(d,b,c)?(this.app.passingCookieNames.push(d),!0):!1}.bind(this));return d.some(function(a){return a})},this.ruleCookieValue=function(a,b){if("undefined"==typeof b)return!0;var c=this.app.passingCookieNames;if(0===c.length)return!1;var d=c.map(function(c){return a(this.app.getCookie(c),b)}.bind(this));return d.some(function(a){return a})},this.ruleCampaignOptin=function(a,b){return null!==this.app.getCookie("om-success-"+b)},this.ruleCampaignClose=function(a,b){return null!==this.app.getCookie("om-"+b)},this.ruleDate=function(a,b){return"undefined"==typeof window.moment?!1:a(window.moment(),window.moment(b),"day")},this.ruleTime=function(a,b,c){if("undefined"==typeof window.moment)return!1;if("undefined"==typeof c||0===c.length)return a(window.moment(),window.moment(b,"h:mma"),"minute");var d=window.moment(),e=window.moment(b,"h:mma");return e.tz(c),e.add(d.utcOffset()-e.utcOffset(),"minutes"),a(d,e,"minute")},this.ruleDay=function(a,b){return"undefined"==typeof window.moment?!1:a(window.moment(),window.moment(b,"e"),"e")},this.ruleMonth=function(a,b){return"undefined"==typeof window.moment?!1:a(window.moment(),window.moment(b,"MMMM"),"month")},this.operatorExactMatch=function(a,b){return a===b},this.operatorNotExactMatch=function(a,b){return a!==b},this.operatorCookieNotExactMatch=function(a,b,c){var d=Object.keys(c).filter(function(a){return b===a});return 0===d.length},this.operatorContains=function(a,b){return a.indexOf(b)>-1&&a.length>0},this.operatorNotContains=function(a,b){return-1===a.indexOf(b)&&b.length>0},this.operatorCookieNotContains=function(a,b,c){var d=Object.keys(c).filter(function(a){return a.indexOf(b)>-1&&a.length>0});return 0===d.length},this.operatorStartsWith=function(a,b){return 0===a.lastIndexOf(b,0)},this.operatorEndsWith=function(a,b){return-1!==a.indexOf(b,a.length-b.length)},this.operatorWildcard=function(){return!0},this.operatorEmpty=function(a){return null===a||void 0===a||0===a.length},this.operatorNotEmpty=function(a){return null!==a&&void 0!==a&&a.length>0},this.operatorRegex=function(a,b){var c=new RegExp(b);return c.test(a)},this.operatorEquals=function(a,b){return a===b},this.operatorNotEquals=function(a,b){return a!==b},this.operatorMoreThan=function(a,b){return a>b},this.operatorLessThan=function(a,b){return b>a},this.operatorMoreThanEqualTo=function(a,b){return a>=b},this.operatorLessThanEqualTo=function(a,b){return b>=a},this.operatorOn=function(a,b,c){return a.isValid()?"e"===c?a.day()===b.day():a.isSame(b,c):!1},this.operatorBefore=function(a,b,c){return a.isValid()?"e"===c?a.day()<b.day():a.isBefore(b,c):!1},this.operatorAfter=function(a,b,c){return a.isValid()?"e"===c?a.day()>b.day():a.isAfter(b,c):!1},this.operatorOnBefore=function(a,b,c){return a.isValid()?"e"===c?a.day()<=b.day():a.isSameOrBefore(b,c):!1},this.operatorOnAfter=function(a,b,c){return a.isValid()?"e"===c?a.day()>=b.day():a.isSameOrAfter(b,c):!1},this.operatorDeviceOn=function(a){return null!==a},this.operatorDeviceNotOn=function(a){return null===a},this.operatorUrlAny=function(){return!0},this.operatorUrlOnHomepage=function(a){return null===a||void 0===a||0===a.length},this.operatorUrlNotOnHomepage=function(a){return null!==a&&void 0!==a&&a.length>0},this.retrieveError=function(a){return function(b,c,d){a.trigger("OptinMonsterRetrieveError"),a.log(b,c,d)}},this.loadPreCheck=function(a){var b=a||!1;if(this.getProp("campaign_status")&&!this.campaignIsActive())return!1;if(!this.websiteMatch())return!1;var c=this.getCookie("om-global-cookie"),d=this.getCookie("om-"+this.getProp("migrated_id")),e=this.getCookie("om-"+this.getProp("id")),f=this.getProp("test"),g=this.getProp("type");if("sidebar"!==this.getProp("type")&&"post"!==this.getProp("type")&&!this.getProp("preview")&&!b){if(!this.cookiesEnabled()&&!f)return!1;if(this.hasInteractionCookie())return!1;if(this.isMobile()&&!this.getProp("mobile")){if("lightbox"==this.getProp("type"))return!1;if("canvas"==this.getProp("type"))return!1;if(!this.getProp("builderv3_saved")&&"full-page-takeover"!==g)return!1}if(!this.isMobile()&&this.getProp("mobile"))return!1;if("mobile"==this.getProp("type")&&!this.isMobile())return!1;if((c||d||e)&&!f&&"slide"!==g)return!1}return this.trigger("OptinMonsterCanLoad"),!0},this.canLoad=function(){if(this.globalHideArg()&&(this.createCookie("om-global-cookie",1,this.getSiteProp("global_cookie")),this.createCookie("om-interaction-cookie",1,this.getSiteProp("global_interaction_cookie"))),!this.websiteMatch())return!1;if(this.getProp("page_slug").length>0&&!this.pageSlugMatch())return!1;var a=parseInt(this.getProp("referrer"));if(a>0&&!this.referrerMatch())return!1;if(this.getProp("campaign_status")&&!this.campaignIsActive())return!1;if("sidebar"!==this.getProp("type")&&"post"!==this.getProp("type")&&!this.getProp("preview")&&!this.getProp("click")){if(!this.cookiesEnabled()&&!this.getProp("test"))return!1;if(this.hasInteractionCookie())return!1;var b=this.getCookie("om-global-cookie"),c=this.getCookie("om-"+this.getProp("migrated_id")),d=this.getCookie("om-"+this.getProp("id")),e=this.getProp("second"),f=this.getProp("test"),g=this.getProp("type");if(this.isMobile()&&!this.getProp("mobile")&&"full-page-takeover"!==g)return!1;if(!this.isMobile()&&this.getProp("mobile"))return!1;if("mobile"==this.getProp("type")&&!this.isMobile())return!1;if(e&&!f&&!this.getCookie("om-second-"+this.getProp("id")))return this.createCookie("om-second-"+this.getProp("id"),!0,this.getProp("cookie")),!1;if((b||c||d)&&!f&&"slide"!==g)return!1}return this.trigger("OptinMonsterCanLoad"),!0},this.inject=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=b("#om-"+c+"-holder");0!==d.length&&(a.replaceCustomVariables(),a.processScripts())},this.processScripts=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=b.trim(a.getProp("html")),e=(b("#om-"+c+"-holder"),b(d).find("script")),f=(a.getProp("preview"),[]),g=[],h=!1,i=!1;return 0===e.length?a.append():(b.each(e,function(a,b){b.src&&0!==b.src.length?(f[a]=b.src,h=!0):g[a]=b}),h?(a.setProp("processing_scripts",!0),b.each(e,function(a,c){if(c.src&&0!==c.src.length){if(b.inArray(c.src,f)>-1){var e=c.src.replace(/.*?:\/\//g,""),g=b(d).find('script[src*="'+e+'"]').get(0).outerHTML;d=d.replace(g,""),i=!0}}else{var g=b(c).get(0).outerHTML;d=d.replace(g,""),i=!0}}),i&&a.setProp("html",d),void a.append(f,g)):a.append())},this.append=function(a,b){var c=this,d=c.getProp("$"),e=c.getProp("optin"),f=d("#om-"+e+"-holder"),a=a||!1,b=b||!1;c.trigger("OptinMonsterBeforeInject"),c.setVisibilityDefaults(),c.shortcodes(),f.append(d.parseHTML(c.getProp("html"),document,!0)),c.trigger("OptinMonsterAfterInject"),a&&c.injectScripts(a,b);var g=c.getProp("processing_scripts"),h=!1;g||h?c.poll(function(){c.getProp("processing_scripts")||h||(h=!0,c.prepareOutbound())},300):c.prepareOutbound()},this.injectScripts=function(a,b){var c=this,d=c.getProp("$"),b=b||!1;d.when(d.each(a,function(a,b){d.getScript(b)}),d.Deferred(function(a){d(a.resolve)})).done(function(){setTimeout(function(){b&&d.each(b,function(a,b){if(b){var c=document.createElement("script");c.type="text/javascript",c.text=d.trim(d(b).get(0).innerHTML),document.body.appendChild(c)}}),c.setProp("processing_scripts",!1)},500)})},this.prepareOutbound=function(){var a=this;a.outbound(),a.load()},this.outbound=function(){var a=this,b=a.getProp("$"),c=a.getProp("builderv3_saved");b(document).find(".manual-optin-trigger, .om-monster-link").each(function(a,c){var d=b(this),e=d.data("optin-slug");if(e){var f=e.replace("-","_");if(!OptinMonsterAppLinkSlugs.hasOwnProperty(f)&&window[f]){if(!window[f].getProp("click"))return;OptinMonsterAppLinkSlugs[f]=window[f]}}}),c||b(document).on("click",".manual-optin-trigger, .om-monster-link",function(a){a.preventDefault();var c=b(this),d=c.data("optin-slug");if(d){var e=d.replace("-","_");OptinMonsterAppLinkSlugs.hasOwnProperty(e)&&OptinMonsterAppLinkSlugs[e].show()}})},this.createMonsterLinkEvent=function(a,b){var c=this,d=c.getProp("$"),e="click."+a+"."+b;d(document).off(e).on(e,".manual-optin-trigger, .om-monster-link",function(a){a.preventDefault();var b=d(this),e=b.data("optin-slug");if(e){var f=e.replace("-","_");OptinMonsterAppLinkSlugs.hasOwnProperty(f)&&(c.openedWithMonsterlink=!0,OptinMonsterAppLinkSlugs[f].show())}})},this.destroyMonsterLinkEvent=function(a,b){var c=this,d=c.getProp("$"),e="click."+a+"."+b;d(document).off(e,".manual-optin-trigger, .om-monster-link")},this.shortcodes=function(){var a=this,b=this.getProp("original_js"),c=this.getProp("html"),d=this.getProp("$");if(window[b+"_shortcode"]){var e=d(".omapi-shortcode-helper"),f=!1;if(e.length>0){a.setProp("has_shortcodes",!0);var g=c.match(/\[(\[?)(.*?)(?![\w-])([^\]\/]*(?:\/(?!\])[^\]\/]*)*?)(?:(\/)\]|\](?:([^\[]*(?:\[(?!\/\2\])[^\[]*)*)\[\/\2\])?)(\]?)/g);g.length>0&&d.each(e,function(a,b){var e=d(b).text();if(e.length>0&&d.inArray(e,g)>-1){var h=d(b).next("div").html();h.length>0&&e!==h&&(f=!0,c=c.replace(e,h),d(b).next("div").remove())}}),f&&a.setProp("html",c)}}},this.pickRandomKey=function(a){return Math.floor(Math.random()*a.length)},this.fonts=function(a){var b=this,c=b.getProp("fonts"),a=a||!1,d=!1,e="undefined"==typeof om_load_webfont?!0:!1;if(e)if(c.length>0){var f=document.createElement("script");f.src="//ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js",f.onload=f.onreadystatechange=function(){var e=this.readyState;if(!e||"complete"==e||"loaded"==e)try{d||(WebFont.load({google:{families:[c]}}),b.trigger("OptinMonsterFontsLoaded"),a?b.inject():b.load(),d=!0)}catch(f){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(f)}else a?b.inject():b.load();else a?b.inject():b.load()},this.load=function(){var a=this;a.appendHolder()&&(a.sanitize(),a.iehotfix(),a.open())},this.sanitize=function(){var a=this,b=a.getProp("$"),c=b("#om-"+a.getProp("optin")),d=b("#om-"+a.getProp("optin")).find(":submit"),e=d.attr("name"),f=d.attr("id");"submit"==e&&c.find(":submit").attr("name","submit-om"),"submit"==f&&c.find(":submit").attr("id","submit-om")},this.iehotfix=function(){this.isIE()&&(this.loadPlaceholder(),this.doPlaceholder())},this.open=function(a){var b=this,c=b.getProp("exit"),d=b.getProp("click"),e=b.getProp("optin_js"),f="slide"==b.getProp("type")?0:b.getProp("delay"),g=b.getProp("scroll"),h=(b.getProp("$"),!1),a=a||!1,i=b.getProp("builderv3_saved")?!0:!1;i&&(d=!1),OptinMonsterAppOptins.hasOwnProperty(e)&&!0===OptinMonsterAppOptins[e].visible||((a||c)&&(f=0),i&&(f=0),(!d||a)&&setTimeout(function(){b.getProp("custom")&&b.prepareCustomOptin(),b.trigger("OptinMonsterLoaded"),!c||d||a?g&&!i||b.getProp("slide_scroll")?b.poll(function(){if(!h){var a=b.getScrollPercentage();a>=g&&(b.normalOpen(),h=!0)}},100):b.normalOpen():i?b.normalOpen():b.exitOpen()},f||0))},this.createExitEvent=function(a,b){var c=this,d=c.getProp("$"),e=c.getProp("type"),f=!1,g="mouseleave."+a+"."+b;"mobile"!=e&&d(document).off(g).on(g,function(b){b.clientY>(c.getProp("exit_sensitivity")||20)||c.getCookie("om-"+c.getProp("id"))||c.getCookie("om-global-cookie")||c.getProp("om-interaction-cookie")||OptinMonsterAppOptins.hasOwnProperty(a)&&!0===OptinMonsterAppOptins[a].visible||f||b.offsetX<-1||(f=!0,c.show(!0))})},this.destroyExitEvent=function(a,b){var c=this,d=c.getProp("$"),e="mouseleave."+a+"."+b;d(document).off(e)},this.exitOpen=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin_js"),d=!1,e=a.getProp("exitRegistered");e||(a.setProp("exitRegistered",!0),b(document).on("mouseleave",function(b){return a.getProp("exit")?void(b.clientY>(a.getProp("exit_sensitivity")||20)||a.getCookie("om-"+a.getProp("id"))||a.getCookie("om-global-cookie")||a.getProp("om-interaction-cookie")||OptinMonsterAppOptins.hasOwnProperty(c)&&!0===OptinMonsterAppOptins[c].visible||d||(d=!0,a.show(!0))):!1}))},this.normalOpen=function(){var a=this.getProp("builderv3_saved")?!0:!1,b=this.getProp("forceShow");(!a||b)&&this.show()},this.show=function(a){var b=this,c=b.getProp("$"),d=b.getProp("id"),e=b.getProp("optin"),f=b.getProp("optin_js"),g=b.getProp("type"),h=(b.getProp("theme"),b.getProp("preview")),i=c("#om-"+e),a=(b.getProp("builderv3_saved")?!0:!1,a||!1);if((!OptinMonsterAppOptins.hasOwnProperty(f)||!0!==OptinMonsterAppOptins[f].visible)&&(!b.getCookie("om-global-cookie")||b.getProp("click")||b.openedWithMonsterlink||h||"sidebar"===g||"post"===g)&&(!b.getCookie("om-interaction-cookie")||b.getProp("click")||b.openedWithMonsterlink||h||"sidebar"===g||"post"===g)){if("full-page-takeover"==g&&b.isMobile()){var j=!1;if(c.each(OptinMonsterAppOptins,function(a,b){b.hasOwnProperty("type")&&"mobile"==b.type&&(j=!0)}),j&&!b.openedWithMonsterlink)return}if(!("slide"==g&&b.isMobile()&&!b.getProp("mobile_checked")||"post"==g&&b.getProp("content_lock")&&!b.canLockContent()||b.getProp("processing_scripts"))){if(b.trigger("OptinMonsterBeforeShow"),b.poweredBy(),b.maybeReloadIframes(),a){if(b.isPopup(g))b.hasVisiblePopup()||OptinMonsterAppPopupLoaded||(OptinMonsterAppPopupLoaded=!0,i.show().css("display","block"),i.find("div").first().show().css("display","block"),b.positionOptin(),OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0,b.trigger("OptinMonsterOnShow"),b.socialServices());else if(("footer"==g||"slide"==g)&&!b.getCookie("om-"+d+"-closed")){i.find("div").first().show().css("display","block");var k=i.outerHeight(),l=b.getProp("position")?b.getProp("position"):"bottom",m={};if(k instanceof jQuery&&(k=i.outerHeight(!1)),m[l]=0,i.css(l,"-"+k+"px").show().stop().animate(m,300,function(){"footer"==g&&(OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0),"slide"==g&&b.slideHandlers(!0),b.trigger("OptinMonsterOnShow"),b.socialServices(),"footer"==g&&b.positionFloatingBar()}),"footer"==g){var n="top"==l?{paddingTop:k}:{paddingBottom:k};c("html").animate(n,300)}}}else if(b.isPopup(g))b.hasVisiblePopup()||OptinMonsterAppPopupLoaded||(OptinMonsterAppPopupLoaded=!0,i.fadeIn(300,function(){"mobile"==g&&(h||b.fixMobileScaling()),c(this).find("div").first().show().css("display","block"),b.positionOptin(),OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0,b.trigger("OptinMonsterOnShow"),b.socialServices()}));else if("footer"==g||"slide"==g){if(!b.getCookie("om-"+d+"-closed")||h){i.find("div").first().show().css("display","block");var k=i.outerHeight(),l=b.getProp("position")?b.getProp("position"):"bottom",m={};if(k instanceof jQuery&&(k=i.outerHeight(!1)),m[l]=0,i.css(l,"-"+k+"px").show().stop().animate(m,300,function(){"footer"==g&&(OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0),"slide"==g&&b.slideHandlers(),b.trigger("OptinMonsterOnShow"),b.socialServices(),"footer"==g&&b.positionFloatingBar()}),"footer"==g){var n="top"==l?{paddingTop:k}:{paddingBottom:k};c("html").animate(n,300)}}}else i.show().css("display","block"),OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0,b.trigger("OptinMonsterOnShow"),b.socialServices();b.customize(),b.enter(),b.submit(),b.close(),b.yesNoActions(),setTimeout(function(){b.track()},1e3)}}},this.yesNoActions=function(){var a=this,b=this.getProp("$"),c=this.getProp("optin"),d=this.getProp("namespace"),e=this.getProp("yesno");e&&b(document).on("click","#om-"+c+" ."+d+"-button-yesno, #om-"+c+" ."+d+"-yesno-button-yesno",function(e){var f=b(this),g=f.attr("data-action"),h=f.attr("data-type");if(g||h)switch(g){case"form":var i=a.getProp("yesno_theme");if("default"==i){var j=b("."+d+"-yesno-wrap"),k=b("."+d+"-form-wrap");j.hide(),b("#om-"+c).removeClass(d+"-yesno-active"),k.show().find("input").first().focus(),a.positionOptin()}else{var j=b("."+d+"-yesno-container"),k=b("."+d+"-body");j.addClass(d+"-transition-hidden"),b("#om-"+c).removeClass(d+"-yesno-active"),k.removeClass(d+"-transition-hidden").find("input").first().focus(),b("#om-"+c).removeClass(d+"-yesno-visible "+d+"-success-visible").addClass(d+"-optin-visible"),a.positionOptin()}break;case"redirect":"yes"==h?(a.track(!0),a.cleanup(!0)):a.cleanup();var l=a.getProp("yes"==h?"yes_redirect":"no_redirect");l=l.replace(new RegExp("&amp;","g"),"&"),l=l.replace(new RegExp("&#038;","g"),"&"),setTimeout(function(){window.location.href=l},500);break;case"refresh":"yes"==h?(a.track(!0),a.cleanup(!0)):a.cleanup(),setTimeout(function(){window.location.reload()},500);break;case"close":"yes"==h?(a.track(!0),a.cleanup(!0)):a.cleanup(),a.close(!0)}})},this.poweredBy=function(){{var a=this,b=this.getProp("type"),c=this.getProp("optin"),d=this.getProp("namespace"),e=this.getProp("$"),f=this.getSiteProp("affiliate_link_position")||"under",g=e("#om-"+c+" .optin-monster-saas-powered-by, #om-"+c+" ."+d+"-powered-by");a.getProp("preview")}a.isPopup(b)||(f="under"),"under"==f?g.appendTo(e("#om-"+c).find("div").first()).css(a.isPopup(b)?{position:"absolute",bottom:"-28px",width:"100%"}:{position:"relative",marginTop:"20px",marginBottom:"20px",width:"100%"}):g.appendTo(e("#om-"+c)).css({position:"absolute",left:20,bottom:20})},this.maybeReloadIframes=function(){var a=this.getProp("optin"),b=this.getProp("$"),c=this.getProp("removed_iframes");c&&b.each(c,function(c,d){var e=b("#om-"+a).find('[data-src="'+c+'"]');e.length>0&&b(e).replaceWith(d)})},this.fixMobileScaling=function(){var a=this,b=(this.getProp("type"),this.getProp("optin"),this.getProp("namespace")),c=a.getProp("builderv3_saved")?!0:!1,d=this.getProp("$"),e=d('meta[name="viewport"]');if(!(e.length>0)){var f=c?b+"-viewport":b+"saas-viewport";d("head").append('<meta id="'+f+'" name="viewport" content="width=device-width, initial-scale=1.0">'),d("html, body").css("overflow","hidden")}},this.positionOptin=function(){var a=this,b=a.getProp("$"),c=(a.getProp("id"),a.getProp("namespace")),d=a.getProp("optin"),e=a.getProp("optin_js"),f=a.getProp("type"),g=(a.getProp("theme"),a.getProp("preview")),h=b("#om-"+d).find("div").first(),i=h.width(),j=h.height(),k=g?b("#optin-monster-preview").height():b(window).height(),l=g?b("#optin-monster-preview").width():b(window).width(),m=(k-j)/2,n=a.getProp("powered_by"),o=a.getSiteProp("affiliate_link_position")||"under",p=b("#om-"+d+" .optin-monster-saas-powered-by, #om-"+d+" ."+c+"-powered-by"),q=a.getProp("animated")?200:0;a.isPopup(f)&&(j>=k?(b("#om-"+d).css({overflowY:"scroll"}),b(h,"#om-"+d+" .optin-monster-saas-success-overlay").css({position:"absolute"}).animate({top:20,left:(l-i)/2,marginBottom:g?70:20},{queue:!1,duration:q}),n&&("under"==o?b(h,"#om-"+d+" .optin-monster-saas-success-overlay").animate({
marginBottom:p.height()+30},{queue:!1,duration:q}):p.hide())):(b("#om-"+d).css({overflow:"auto"}),b(h,"#om-"+d+" .optin-monster-saas-success-overlay").animate({top:m,left:(l-i)/2,marginBottom:0},{queue:!1,duration:q}),n&&("under"==o?b(h,"#om-"+d+" .optin-monster-saas-success-overlay").animate({marginBottom:0},{queue:!1,duration:q}):p.show())),b(window).on("resize.positionOptin"+e,function(){clearTimeout(a.resizeTimer),a.resizeTimer=setTimeout(function(){a.positionOptin()},50)}),a.setProp("animated",!0),a.trigger("OptinMonsterPositionOptin"))},this.positionFloatingBar=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("optin_js"),e=b("#om-"+c),f=a.getProp("position");b(window).on("resize.positionFloatingBar"+d,function(){clearTimeout(a.resizeTimer),a.resizeTimer=setTimeout(function(){var a=e.height();"top"==f?b("html").animate({paddingTop:a},{queue:!1,duration:300}):b("html").animate({paddingBottom:a},{queue:!1,duration:300})},50)})},this.slideHandlers=function(a){{var b=this,c=b.getProp("$"),d=(b.getProp("id"),b.getProp("optin")),e=b.getProp("namespace"),f=(b.getProp("type"),b.getProp("theme")),g=b.getProp("preview"),h=c("#om-"+d),i=b.getProp("slide_toggle"),j=b.getProp("builderv3_saved")?!0:!1,k="#om-"+d+" .om-slide-close-content, #om-"+d+" ."+e+"-slide-close-content, #om-"+d+" .om-close, #om-"+d+" ."+e+"-close",l="#om-"+d+" .om-slide-open-content, #om-"+d+" ."+e+"-slide-open-content",a=a||!1;b.getProp("slide_loaded")}if(g||(k=k+", #om-"+d+" #om-slide-"+f+"-optin-title-open, #om-"+d+" ."+e+"-element-title-open",l=l+", #om-"+d+" #om-slide-"+f+"-optin-title-closed, #om-"+d+" ."+e+"-element-title-closed"),c(document).on("click.closeOptin",k,function(a){a.target===this&&(g&&(c(a.target).hasClass("om-close")||c(a.target).hasClass(e+"-close"))||(a.preventDefault(),b.trigger("OptinMonsterBeforeClose"),h.find("div").first().removeClass("om-slide-open "+e+"-slide-open").addClass("om-slide-closed "+e+"-slide-closed"),("canvas"==f||j&&!i)&&h.hide(),h.find(".optin-monster-saas-success-overlay").remove(),b.cleanup()))}),c(document).on("click.openOptin",l,function(a){a.target===this&&(a.preventDefault(),b.trigger("OptinMonsterBeforeShow"),h.find("div").first().removeClass("om-slide-closed "+e+"-slide-closed").addClass("om-slide-open "+e+"-slide-open"),b.setProp("slide_open",!0),b.adjustSlidePosition(),b.trigger("OptinMonsterOnShow"))}),a)b.showSlide();else{var m=0;if(b.getProp("automatic_toggle")||0===b.getProp("automatic_toggle")?m=1e3*b.getProp("automatic_toggle"):b.getProp("delay")&&(m=b.getProp("delay")),0===m)return;setTimeout(function(){b.showSlide()},m)}},this.showSlide=function(){var a=this,b=a.getProp("$"),c=a.getProp("id"),d=a.getProp("optin"),e=(a.getProp("type"),a.getProp("theme"),a.getProp("namespace")),f=b("#om-"+d);(!a.getCookie("om-"+c)&&!a.getProp("slide_open")||a.getProp("preview"))&&(f.find("div").first().removeClass("om-slide-closed "+e+"-slide-closed").addClass("om-slide-open "+e+"-slide-open"),a.setProp("slide_open",!0),OptinMonsterAppOptins[a.getProp("optin_js")].visible=!0,a.adjustSlidePosition())},this.adjustSlidePosition=function(){{var a=this,b=a.getProp("$"),c=(a.getProp("id"),a.getProp("optin")),d=(a.getProp("optin_js"),a.getProp("preview")),e=b("#om-"+c);e.height(),d?b("#optin-monster-preview").height():b(window).height()}},this.customize=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("namespace"),e=a.getProp("type"),f=a.getProp("theme");b(document).on("click.omCustomConversion","#om-"+c+" .om-trigger-conversion, #om-"+c+" ."+d+"-trigger-conversion",function(d){if(!b(d.target).is("input")||"canvas"===e||!b(d.target).is("input")||"canvas"===f){a.trigger("OptinMonsterOptinSuccess");var g=a.getProp("success_code");g&&b("#om-"+c).append(g),a.getProp("ga_uaid")?a.track(!0):a.cleanup(!0),setTimeout(function(){return!0},500)}}),a.canLockContent()&&a.lockContent(),a.trigger("OptinMonsterOnCustomize")},this.canLockContent=function(){return"post"!=this.getProp("type")?!1:this.getProp("content_lock")?this.globalHideArg()?!1:this.getCookie("om-global-cookie")?!1:this.getCookie("om-success-cookie")?!1:!0:!1},this.lockContent=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("namespace"),e=a.getProp("content_lock_method");if("remove"==e){var f=b("#om-"+c+"-holder").nextAll(),g=f.clone();a.setProp("lock_cloned",g),f.remove()}else b("#om-"+c+"-holder").nextAll().each(function(){b(this).addClass(d+"-content-lock")})},this.unlockContent=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("namespace"),e=a.getProp("content_lock_method");if("remove"==e){var f=a.getProp("lock_cloned");b("#om-"+c+"-holder").after(f)}else b("#om-"+c+"-holder").nextAll().each(function(){b(this).removeClass(d+"-content-lock")})},this.enter=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("namespace"),e=a.getProp("type"),f=a.getProp("theme");("lightbox"===e||"full-page-takeover"===e)&&(a.getProp("preview")||b(document).on("keypress.omEnter",function(a){13===a.which&&b("#om-"+c+" #om-"+e+"-"+f+"-optin-submit, #om-"+c+" ."+d+"-field-submit").trigger("click.doOptin")}))},this.submit=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("namespace"),e=a.getProp("type"),f=a.getProp("theme"),g=a.getProp("custom"),h=b("#om-"+c),i=a.getProp("submitted")||!1;if(!a.getProp("preview")&&!i)if(g){var j=!1;b(document).on("submit.doCustomOptin",".om-custom-html-form form, ."+d+"-custom-html-form form",function(d){if(j){if(a.isPopup(e))h.fadeOut(300,a.onClose(a));else if("footer"==e||"slide"==e){var f=a.getProp("position")?a.getProp("position"):"bottom",g={},i=h.outerHeight();i instanceof jQuery&&(i=h.outerHeight(!1)),g[f]="-"+i+"px",h.stop().animate(g,300,a.onClose(a)),"top"==a.getProp("position")?b("html").stop().animate({paddingTop:0},300):b("html").stop().animate({paddingBottom:0},300)}}else{if(a.trigger("OptinMonsterBeforeOptin"),a.getProp("has_shortcodes")){a.trigger("OptinMonsterOptinSuccess");var k=a.getProp("success_code");return k&&b("#om-"+c).append(k),a.getProp("ga_uaid")?a.track(!0):a.cleanup(!0),j=!0,!0}if(a.requiredInputPassed(b(this)))return j=!0,a.optin(d.target,!0),d.preventDefault(),!1}})}else a.setProp("om_submitting",!1),b(document).on("click.doOptin","#om-"+c+" #om-"+e+"-"+f+"-optin-submit, #om-"+c+" ."+d+"-field-submit",function(b){a.getProp("om_submitting")||(a.setProp("om_submitting",!0),b.preventDefault(),a.trigger("OptinMonsterBeforeOptin"),a.optin(b.target))})},this.requiredInputPassed=function(a){var b=this,c=b.getProp("$"),d=a.find(":input[required]"),e=!0;return c.each(d,function(a,b){var d=c.trim(c(b).val());return 0==d.length?(e=!1,!1):void 0}),e},this.close=function(a){var b=this,c=b.getProp("$"),d=b.getProp("optin"),e=b.getProp("type"),f=b.getProp("namespace"),g=c("#om-"+d),a=a||!1;if(!b.getProp("preview"))if(a){if(b.isPopup(e))g.fadeOut(300,b.onClose(b));else if("footer"==e||"slide"==e){var h=b.getProp("position")?b.getProp("position"):"bottom",i={},j=g.outerHeight();j instanceof jQuery&&(j=g.outerHeight(!1)),i[h]="-"+j+"px",g.stop().animate(i,300,b.onClose(b)),"top"==b.getProp("position")?c("html").stop().animate({paddingTop:0},300):c("html").stop().animate({paddingBottom:0},300)}}else c(document).on("click.closeOptin","#om-"+d+" .om-close, #om-"+d+" ."+f+"-close, #om-"+d+".optin-monster-saas-overlay, #om-"+d+"."+f+"-background, #om-"+d+" .om-trigger-close, #om-"+d+" ."+f+"-trigger-close, ."+f+"-success-close, #om-"+d+" ."+f+"-yesno-close, #om-"+d+" ."+f+"-yesno-close-wrap",function(a){if(!(a.target!==this||"mobile"==e&&c(a.target).hasClass("optin-monster-saas-overlay")||"mobile"==e&&c(a.target).hasClass(f+"-background")||"full-page-takover"==e&&c(a.target).hasClass("optin-monster-saas-overlay")||"full-page-takover"==e&&c(a.target).hasClass(f+"-background"))){if(a.preventDefault(),b.trigger("OptinMonsterBeforeClose"),b.isPopup(e))g.fadeOut(300,b.onClose(b));else if("footer"==e){var d=b.getProp("position")?b.getProp("position"):"bottom",h={},i=g.outerHeight();i instanceof jQuery&&(i=g.outerHeight(!1)),h[d]="-"+i+"px",g.stop().animate(h,300,b.onClose(b)),"top"==b.getProp("position")?c("html").stop().animate({paddingTop:0},300):c("html").stop().animate({paddingBottom:0},300)}"slide"==e&&g.fadeOut(300,b.onClose(b))}})},this.onClose=function(a){return function(){var b=a.getProp("$"),c=a.getProp("type"),d=a.getProp("optin"),e=a.getProp("optin_js"),f=a.getProp("namespace"),g=a.getProp("builderv3_saved")?!0:!1;if(a.cleanup(),"mobile"==c){var b=a.getProp("$"),h=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=a.getProp("dw"),j=Math.round(h/i*100)/100;if(b("#"+f+"saas-viewport").length>0){var k=g?f+"-viewport":f+"saas-viewport";b("#"+k).attr("content","width=device-width, initial-scale="+j+", minimum-scale="+j+", maximum-scale="+j),b("html, body").css("overflow","auto"),setTimeout(function(){b("#"+k).attr("content","width=device-width, maximum-scale=10.0")},0)}b("#om-"+d+"-overlay, #om-"+d+"."+f+"-background").hide()}a.isPopup(c)&&b(window).off("resize.omOptin"+a.getProp("optin_js")),b(window).off("resize.positionOptin"+e),b(window).off("resize.positionFloatingBar"+e);var l=a.getProp("removed_iframes");l||(l={}),b("#om-"+d).find("iframe").each(function(a,c){l[b(c).attr("src")]=b(c),b(c).replaceWith('<div id="om-'+d+'-iframe-placeholder" data-src="'+b(c).attr("src")+'" />')}),b.isEmptyObject(l)||a.setProp("removed_iframes",l),a.openedWithMonsterLink=!1,a.trigger("OptinMonsterOnClose")}},this.cleanup=function(a){var b=this,c=b.getProp("$"),d=b.getProp("id"),e=b.getProp("type"),f=b.getSiteProp("global_cookie"),g=b.getSiteProp("global_interaction_cookie"),h=b.getProp("builderv3_saved")?!0:!1,i=a||!1;if(OptinMonsterAppOptins[b.getProp("optin_js")].visible=!1,b.isPopup(e)&&(OptinMonsterAppPopupLoaded=!1),c(document).off("keypress.omEnter"),i&&b.setProp("submitted",!0),i){var j=b.getProp(b.getProp("cookie_success")?"cookie_success":"cookie");b.createCookie("om-"+d,!0,j),b.createCookie("om-success-"+d,!0,j),b.createCookie("om-success-cookie",!0,j),b.unlockContent()}else{if(0===b.getProp("cookie"))return;b.createCookie("om-"+d,!0,b.getProp("cookie"))}b.getProp("migrated_id")&&b.createCookie("om-"+b.getProp("migrated_id"),!0,b.getProp("cookie")),b.getProp("clones")&&c.each(b.getProp("clones"),function(a,c){if(0!==c.length){var d=b.getProp(b.getProp("cookie_success")&&i?"cookie_success":"cookie");0!==d&&(b.createCookie("om-"+c,!0,d),i&&b.createCookie("om-success-"+c,!0,d))}}),0!=f&&i&&b.createCookie("om-global-cookie",!0,f),0==g||i||b.createCookie("om-interaction-cookie",!0,g),(i&&"slide"==b.getProp("type")||!i&&"slide"==b.getProp("type")&&"canvas"==b.getProp("theme"))&&b.createCookie("om-"+d+"-closed",!0,b.getProp("cookie")),h&&(i||"slide"!=b.getProp("type")||b.getProp("slide_toggle")||b.createCookie("om-"+d+"-closed",!0,b.getProp("cookie"))),b.trigger("OptinMonsterCleanup")},this.track=function(a){if(!this.getProp("preview")){if(this.getProp("campaign_status")&&!this.campaignIsActive())return!1;var b=this,c=b.getProp("ga_uaid"),a=a||!1;if(!this.isHolderSet(b.getProp("optin")))return!1;var d=a?"tracked":"impression_tracked";if(!b.getProp(d)){if(!c)return void b.log("[OptinMonster] No analytics profile has been set for this campaign. Please set a profile to track analytics.");b.trackGoogleAnalytics(c,a),b.trigger("OptinMonsterTracked")}}},this.trackGoogleAnalytics=function(a,b){var c=this,d=c.getProp("$"),e=c.getProp("optin"),f=b?"conversion":"impression",g=c.getProp("campaign")||c.getProp("optin"),g=g.toString().replace(/\s\s+/g," "),h=e.replace("-",""),i=!1,j=!1;if("undefined"!=typeof window.__gaTracker?j=window.__gaTracker:"undefined"!=typeof window.gaTracker?j=window.gaTracker:"undefined"!=typeof window.__omGaTracker?j=window.__omGaTracker:"undefined"!=typeof window.ga&&(j=window.ga),j){if(c.setProp("ga_object",j),c.getProp("ga_custom_id")&&(a=c.getProp("ga_custom_id")),j.hasOwnProperty("getAll")){var k=j.getAll();d.each(k,function(b,c){var d=c.get("trackingId");return d==a?(i=c,!1):void 0})}if(i||(j("create",a,"auto","omTracker"+h),j.hasOwnProperty("getByName")&&(i=j.getByName("omTracker"+h))),!i)return c.log("OptinMonster could not record analytics for "+g+" because no analytics tracker could be created or retrieved. Contact support for more details."),setTimeout(function(){c.trackGoogleAnalytics(a,b)},500);i.send("event",g,f,c.getProp("id").toString(),{nonInteraction:!0,_r:0}),"impression"==f?(c.addMessage("Impression tracked to "+a),c.trigger("OptinMonsterTrackedImpression"),c.setProp("impression_tracked",!0)):(c.addMessage("Conversion tracked to "+a),c.trigger("OptinMonsterTrackedConversion"),c.setProp("tracked",!0),c.cleanup(!0))}},this.optin=function(a,b){var c=this,d=c.getProp("$"),e=c.getProp("optin"),f=c.getProp("namespace"),g=c.getProp("builderv3_saved")?!0:!1,h=g?d("#om-"+e+" ."+f+"-field-name").val():d("#om-"+e+" #om-"+c.getProp("type")+"-"+c.getProp("theme")+"-optin-name").val(),i=g?d("#om-"+e+" ."+f+"-field-email").val():d("#om-"+e+" #om-"+c.getProp("type")+"-"+c.getProp("theme")+"-optin-email").val(),b=b||!1;if(c.getProp("preview"))return void c.setProp("om_submitting",!1);if(b)return void c.optinCustomSuccess(a);c.setProp("convert_target",a),c.loading(a);var j={optin_id:c.getProp("id"),post_id:c.getProp("post_id"),referrer:window.location.href,user_agent:navigator.userAgent,previous:document.referrer,email:i,name:h},k=c.getProp("api_convert")+c.getProp("id");success=!1,o=!1,j.email=d.trim(j.email),j.name=d.trim(j.name);var l=d("#om-"+e).find(":input"),m={};d.each(l,function(a,b){var c=d(this).attr("name"),e=d(this).attr("type");if(c)switch(e){case"checkbox":case"radio":var f=d(this).is(":checked");if(!f)return;if(m[c])if(d.isPlainObject(m[c]))m[c][a]=d.trim(d(this).val());else{var g=m[c];m[c]={},m[c][a-1]=g,m[c][a]=d.trim(d(this).val())}else m[c]=d.trim(d(this).val());break;default:m[c]=d.trim(d(this).val())}}),d.isEmptyObject(m)||(j.fields=m);var n=c.getCookie("_mkto_trk");n&&(j.mkto=n);var o=c.verify();return o?c.error(a,o):(success=c.optinSuccess(c,a),o=c.optinError(c,a),c.addMessage("Lead name: "+j.name),c.addMessage("Lead email: "+j.email),c.setProp("optin_data",j),c.trigger("OptinMonsterPreOptin"),void c.requestCORS(k,c.getProp("optin_data"),success,o))},this.error=function(a,b){var c=this,d=c.getProp("$"),e=d(a),f=(c.getProp("optin"),c.getProp("namespace")),g=c.getProp("builderv3_saved")?!0:!1;c.setProp("om_submitting",!1),c.removeLoading(a);var h=g?f+"-error":f+"saas-error";e.parent().append('<p class="'+h+'" style="font-family:Georgia;font-size:13px;font-style:italic;color:#ff0000;margin:10px 0;text-align:center;line-height:18px;">'+b+"</p>"),c.addMessage("Optin error: "+b),c.trigger("OptinMonsterOnError")},this.loading=function(a){var b=this,c=b.getProp("$"),d=c(a),e=d.position(),f=parseInt(d.css("marginTop")),g=parseInt(d.css("marginLeft")),h=d.outerWidth(),i=d.outerHeight(),j=b.getProp("namespace"),k=b.getProp("builderv3_saved")?!0:!1;h instanceof jQuery&&(h=d.outerWidth(!1)),i instanceof jQuery&&(i=d.outerHeight(!1));var l=k?j+"-error":j+"saas-error";c("#om-"+b.getProp("optin")).find("."+l).remove();var m=k?j+"-loading":j+"saas-loading";d.after('<span class="'+m+'"></span>').css("opacity",".25"),c("#om-"+b.getProp("optin")).find("."+m).css({width:h,height:i,top:e.top+f,left:e.left+g,background:"url("+b.getProp("preloader")+") no-repeat 50% 50%",position:"absolute",zIndex:84736365452,backgroundSize:"20px"})},this.verify=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=(a.getProp("type"),a.getProp("theme"),a.getProp("namespace")),e=a.getProp("builderv3_saved")?!0:!1,f=b(e?"#om-"+c+" ."+d+"-field-name":"#om-"+c+" #om-"+a.getProp("type")+"-"+a.getProp("theme")+"-optin-name"),g=b(e?"#om-"+c+" ."+d+"-field-email":"#om-"+c+" #om-"+a.getProp("type")+"-"+a.getProp("theme")+"-optin-email"),h=b("#om-"+c).find('input[name="email"]').val(),i=b("#om-"+c).find('input[name="website"]').val(),j=!1;if(f&&f.length>0){var k=b.trim(f.val());0==k.length&&(j=a.getProp("name_error")||a.getProp("error"))}if(g&&g.length>0){var l=b.trim(g.val());0!=l.length&&a.isValidEmail(l)||(j=a.getProp("email_error")||a.getProp("error"))}return(h&&h.length>0||i&&i.length>0)&&(j=a.getProp("bot_error")||a.getProp("error")),j},this.removeLoading=function(a){var b=this,c=b.getProp("$"),d=b.getProp("namespace"),e=b.getProp("builderv3_saved")?!0:!1,f=c(a);f.css("opacity","1");var g=e?d+"-loading":d+"saas-loading";c("#om-"+b.getProp("optin")).find("."+g).remove()},this.optinJSON=function(){},this.optinSuccess=function(a,b){{var c=a.getProp("$"),d=a.getProp("optin");a.getProp("type"),a.getProp("theme")}return function(e){if(!e||c.isEmptyObject(e))return a.error(b,a.getProp("error"));if(e&&e.error)return a.error(b,e.error);a.setProp("om_submitting",!1),a.trigger("OptinMonsterOptinSuccess");var f=a.getProp("success_code");f&&c("#om-"+d).append(f),a.getProp("ga_uaid")?a.track(!0):a.cleanup(!0);var g=a.getProp("success"),h=g&&g.hasOwnProperty("action");if(h)switch(g.action){case"redirect":a.redirectOptin(e);break;case"message":a.successMessage(b);break;case"refresh":setTimeout(function(){window.location.reload()},500);break;case"close":a.close(!0),a.removeLoading(b),a.trigger("OptinMonsterOptinSuccessClose")}else a.getProp("redirect")?a.redirectOptin(e):a.getProp("success")?a.successMessage(b):(a.close(!0),a.removeLoading(b),a.trigger("OptinMonsterOptinSuccessClose"))}},this.redirectOptin=function(a){var b=this,c=b.getProp("$"),d=b.getProp("redirect"),e=b.getProp("redirect_pass");if(d===!1||0===d.length)return b.log("[OptinMonster] Cannot redirect. A redirect URL has not been set."),void b.close(!0);if(d=d.replace(new RegExp("&amp;","g"),"&"),d=d.replace(new RegExp("&#038;","g"),"&"),b.addMessage("Redirect URL: "+d),b.addMessage("Pass lead data: "+e),e&&a&&a.success){var f=b.getProp("optin_data");delete f.referrer,delete f.user_agent,delete f.previous,c.each(f,function(a,c){"undefined"!=typeof c&&c.length>0&&(d=b.updateQueryString(d,"om_"+a,c),b.addMessage("Query arg added: om_"+a+"="+c))})}b.trigger("OptinMonsterOnRedirect"),setTimeout(function(){window.location.href=d},500)},this.updateQueryString=function(a,b,c){var d=new RegExp("([?|&])"+b+"=.*?(&|#|$)","i");if(a.match(d))return a.replace(d,"$1"+b+"="+c+"$2");var e="",f=-1!==a.indexOf("?")?"&":"?";return-1!==a.indexOf("#")&&(e=a.replace(/.*#/,"#"),a=a.replace(/#.*/,"")),a+f+b+"="+c+e},this.successMessage=function(a){var b=this,c=b.getProp("$"),d=b.getProp("optin"),e=b.getProp("namespace"),f=b.getProp("builderv3_saved")?!0:!1,g=b.getProp("type"),h=b.getProp("theme"),i="full-page-takeover"==g?c("#om-"+d):c("#om-"+d).find("div").first(),j=i.position(),k=i.outerWidth(),l=i.outerHeight(),m="sidebar"==g||"post"==g?7271832:0xe8da821f56;if(k instanceof jQuery&&(k=i.outerWidth(!1)),l instanceof jQuery&&(l=i.outerHeight(!1)),"slide"!==g&&(b.getProp("preview")&&!b.getProp("builderv3_saved")?c("#om-"+g+"-"+h+"-optin-wrap").hide():c("#om-"+d).find(".om-close, ."+e+"-close").hide()),f)("sidebar"==g||"post"==g)&&c("."+e+"-success-container").find("."+e+"-success-close").remove(),c("."+e+"-body").addClass(e+"-transition-hidden"),c("."+e+"-success-container").removeClass(e+"-transition-hidden"),c("#om-"+d).removeClass(e+"-yesno-visible "+e+"-optin-visible").addClass(e+"-success-visible"),c("#om-"+d).find("iframe").each(function(a,b){0===c(this).parents("."+e+"-success-container").length&&c(this).remove()}),b.positionOptin();else{var n,o="sidebar"==g||"post"==g?'<div class="optin-monster-saas-success-overlay" style="display:none;"></div>':'<div class="optin-monster-saas-success-overlay" style="display:none;"><a href="#" class="om-close om-success-close">&times;</a></div>',p=b.getProp("success");n="object"==typeof p?p.hasOwnProperty("title")?p.title.text:"":p,"full-page-takeover"==g?i.append(o):i.after(o),c("#om-"+d).find(".optin-monster-saas-success-overlay").css({width:k,height:l,top:j.top,left:j.left,background:"#fff",position:"absolute",zIndex:m,padding:"0px 20px",opacity:0,display:"block"}).append('<div class="optin-monster-saas-success-message">'+n+"</div>"),c("#om-"+d).find(".optin-monster-saas-success-message").css({"margin-top":(l-c("#om-"+d).find(".optin-monster-saas-success-message").height())/2}),c("#om-"+d).find(".optin-monster-saas-success-overlay").fadeTo(300,1,function(){b.removeLoading(a),b.socialServices()}),b.poll(function(){c(window).resize(function(){var a=c("#om-"+d).find("div").first(),b=a.outerWidth(),e=a.outerHeight();b instanceof jQuery&&(b=a.outerWidth(!1)),e instanceof jQuery&&(e=a.outerHeight(!1)),c("#om-"+d).find(".optin-monster-saas-success-overlay").css({width:b,height:e,top:a.position().top,left:a.position().left}),c("#om-"+d).find(".optin-monster-saas-success-message").css({"margin-top":(e-c(".optin-monster-saas-success-message").height())/2})})},300)}},this.optinCustomSuccess=function(a){var b=this,c=this.getProp("$");b.trigger("OptinMonsterOptinSuccess");var d=b.getProp("success_code");d&&c("#om-"+b.getProp("optin")).append(d),b.getProp("ga_uaid")?b.track(!0):b.cleanup(!0),setTimeout(function(){c(a).submit()},200)},this.optinError=function(a,b){a.getProp("$"),a.getProp("optin"),a.getProp("type"),a.getProp("theme");return function(c,d,e){return a.trigger("OptinMonsterOptinError"),a.setProp("om_submitting",!1),a.error(b,a.getProp("ajax_error")+c.responseJSON.error)}},this.requestCORS=function(a,b,c,d){var e=this,f=e.getProp("$"),b=b||!1,g={url:a,cache:!1,type:"POST",timeout:3e4,data:b},c=c||!1,d=d||!1;c&&(g.success=c),d&&(g.error=d),f.ajax(g)},this.requestJSONP=function(a,b,c){var d=this,e=d.getProp("$"),f={url:a,cache:!1,type:"GET",dataType:"json",timeout:3e4,beforeSend:function(a,b){var c=b.url.split("?");return b.url=c[0],b},crossDomain:!0},b=b||!1,c=c||!1;b&&(f.success=b),c&&(f.error=c),e.ajax(f)},this.appendHolder=function(){var a=this.getProp("$"),b=this.getProp("type"),c=this.getProp("preview"),d=!1;if(this.isPopup(b))d={position:"fixed","z-index":"7371832",top:"0",left:"0",zoom:"1",width:"100%",height:"100%",margin:"0",padding:"0"},c&&(d.position="absolute",d.width="auto",d.right="0",d.bottom="0");else if("footer"==b){d={position:"fixed","z-index":"7371832",left:"0",zoom:"1",width:"100%",margin:"0",padding:"0"},c&&(d.position="absolute");var e=this.getProp("position");"undefined"!=typeof e&&0!=e?d[e]=0:d.bottom=0}return d&&(a("#om-"+this.getProp("optin")).css(d),c||a("#om-"+this.getProp("optin")).appendTo("body")),this.trigger("OptinMonsterAppendHolder"),!0},this.prepareCustomOptin=function(){var a=this,b=a.getProp("optin"),c=a.getProp("$"),d=c("#om-"+b+" input[data-om-render=label]");d.length>0&&(a.loadElementChange(),d.each(function(){c.fn.changeElementType&&c(this).changeElementType("label")}),c("#om-"+b+" label[data-om-render=label]").each(function(){c(this).text(c(this).attr("value")).removeAttr("value type")})),a.trigger("OptinMonsterCustomDone")},this.poll=function(){var a=0;return function(b,c){clearInterval(a),a=setInterval(b,c)}}(),this.isValidEmail=function(a){return new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(a)},this.createCookie=function(a,b,c){if(!this.getProp("test")){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="; expires=Thu, 01 Jan 1970 00:00:01 GMT";document.cookie=a+"="+b+e+"; path=/"}},this.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},this.getCookies=function(){var a={};if(document.cookie&&""!=document.cookie){var b=document.cookie.split(";");b.map(function(c,d){var e=b[d].split("=");e[0]=e[0].replace(/^ /,""),a[decodeURIComponent(e[0])]=decodeURIComponent(e[1])})}return a},this.removeCookie=function(a){this.createCookie(a,"",-1)},this.log=function(a){var b=this,c=this.getProp("$"),d=c.inArray(a,b.loggedMessages)>-1;d||(b.loggedMessages.push(a),"object"==typeof console?console.log(a):"")},this.trigger=function(a){var b=this;this.addMessage("Event fired: "+a,!0),b["public"].ejQuery(document).trigger(a,[b["public"],b]),this.getProp("debug")&&this.displayDebugLog()},this.loadElementChange=function(){!function(a){a.fn.changeElementType=function(b){var c={};a.each(this[0].attributes,function(a,b){c[b.nodeName]=b.nodeValue}),this.replaceWith(function(){return a("<"+b+"/>",c).append(a(this).contents())})}}(this.getProp("$"))},this.cookiesEnabled=function(){var a=navigator.cookieEnabled?!0:!1;return"undefined"!=typeof navigator.cookieEnabled||a||(document.cookie="testcookie",a=-1!=document.cookie.indexOf("testcookie")?!0:!1),a},this.hasInteractionCookie=function(){var a=this.getCookie("om-interaction-cookie");return a},this.getProp=function(a){return"namespace"==a?this["public"].hasOwnProperty(a)?this["public"][a]:"optin-monster-":this["public"].hasOwnProperty(a)?this["public"][a]:!1},this.getSiteProp=function(a){var b=this.getProp("site"),c=this.getProp("$"),d=window.location.hostname,e=[".dev",".local","local.","staging.","localhost","127.0.0.1"];if(whitelisted=!1,c.each(e,function(a,b){return d.indexOf(b)>-1?(whitelisted=!0,!1):void 0}),Array.isArray(b)){var f=b.filter(function(a){return whitelisted?!0:a.hasOwnProperty("domain")&&d.indexOf(a.domain)>-1});return(0!==f.length||whitelisted)&&f[0].settings&&f[0].settings.hasOwnProperty(a)?f[0].settings[a]:!1}return b.settings&&b.settings.hasOwnProperty(a)?b.settings[a]:!1},this.setProp=function(a,b){this["public"][a]=b},this.isMobile=function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a},this.hasVisiblePopup=function(){var a=[],b=this.getProp("$"),c=0;for(var d in OptinMonsterAppOptins)OptinMonsterAppOptins[d].hasOwnProperty("visible")&&!0===OptinMonsterAppOptins[d].visible&&(a[c]=OptinMonsterAppOptins[d].type,c++);return b.inArray("lightbox",a)>-1||b.inArray("canvas",a)>-1||b.inArray("full-page-takeover",a)>-1||b.inArray("mobile",a)>-1||!1},this.loadPlaceholder=function(){var a=this,b=a.getProp("$");!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof module&&module.exports?require("jquery"):b)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(d);if(d.value==f.attr("placeholder")&&f.hasClass(m.customClass))if(f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c;f.focus()}else d.value="",f.removeClass(m.customClass),d==e()&&d.select()}function d(){var d,e=this,f=a(e),g=this.id;if(""===e.value){if("password"===e.type){if(!f.data("placeholder-textinput")){try{d=f.clone().attr({type:"text"})}catch(h){d=a("<input>").attr(a.extend(b(this),{type:"text"}))}d.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",c),f.data({"placeholder-textinput":d,"placeholder-id":g}).before(d)}f=f.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g).show()}f.addClass(m.customClass),f[0].value=f.attr("placeholder")}else f.removeClass(m.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!h,j="placeholder"in document.createElement("textarea")&&!h,k=a.valHooks,l=a.propHooks;if(i&&j)g=a.fn.placeholder=function(){return this},g.input=g.textarea=!0;else{var m={};g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};m=a.extend({},e,b);var f=this;return f.filter((i?"textarea":":input")+"[placeholder]").not("."+m.customClass).bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),f},g.input=i,g.textarea=j,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass(m.customClass)?"":b.value},set:function(b,f){var g=a(b),h=g.data("placeholder-password");return h?h[0].value=f:g.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):g.hasClass(m.customClass)?c.call(b,!0,f)||(b.value=f):b.value=f,g):b.value=f}},i||(k.input=f,l.value=f),j||(k.textarea=f,l.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+m.customClass,this).each(c);setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){a("."+m.customClass).each(function(){this.value=""})})}})},this.doPlaceholder=function(){var a=this,b=a.getProp("$"),c=b("#om-"+a.getProp("optin")+" input");c.length>0&&b.fn.placeholder&&c.each(function(){b(this).placeholder()}),a.trigger("OptinMonsterPlaceholderDone")},this.isIE=function(){var a=this.getProp("$");return!(a.support.cors||!a.ajaxTransport||!window.XDomainRequest)},this.getQueryParameters=function(a){return(a||document.location.search||document.location.hash).replace(/(^\?)|(^\#)/,"").split("&").map(function(a){return"undefined"!=typeof a?(a=a.split("="),this[a[0]]=a[1],this):void 0;

}.bind({}))[0]},this.getQueryArgValue=function(a,b){var c=this.getQueryParameters();return"undefined"==typeof c[a]?"":c[a]},this.globalHideArg=function(){var a=this.getQueryParameters();return"undefined"==typeof a?!1:void 0!==a.omhide?(this.addMessage("Global hide cookie: true"),!0):(this.addMessage("Global hide cookie: false"),!1)},this.websiteMatch=function(){var a=this.getProp("$"),b=this.getProp("site"),c=window.location.hostname,d=!1,e=!1,f=this;return this.addMessage("Current website: "+c),this.websiteWhitelisted()?(f.addMessage("Website whitelisted: true"),!0):(Array.isArray(b)||(b=[b]),a.each(b,function(a,b){if(b.hasOwnProperty("domain")){if(f.addMessage("Registered domain: "+b.domain),c.indexOf(b.domain)>-1)return f.addMessage("Website match: true"),e=!0,!1;d="[OptinMonster] The optin campaign requested does not have permission to load on this domain."}else f.addMessage("Website match: None registered"),d="[OptinMonster] No site has been specified for this optin campaign. The optin campaign has ceased loading."}),!1===e&&(this.addMessage("Website match: false"),this.log(d)),e)},this.websiteWhitelisted=function(){var a=this.getProp("$"),b=window.location.hostname,c=!1,d=[".dev",".local","local.","staging.","localhost","127.0.0.1"];return a.each(d,function(a,d){return b.indexOf(d)>-1?(c=!0,!1):void 0}),c},this.pageSlugMatch=function(){var a=this.getProp("page_slug"),b=this.getProp("page_match"),c=this.getProp("page_exclude"),d=window.location.pathname.substr(1);return this.addMessage("Current window page slug: "+d),this.addMessage("Page slug: "+a),this.addMessage("Exact match set: "+b),this.addMessage("Exclude page slug: "+c),b&&c?"/"==a?!d.length>0?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):a==d?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):c?"/"==a?!d.length>0?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):d.indexOf(a)>-1?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):b?"/"==a?d.length>0?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not match the request URI exactly. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):a!==d?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not match the request URI exactly. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):"/"==a?d.length>0?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not exist in the request URI. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):d.indexOf(a)>-1?!0:(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not exist in the request URI. The optin campaign has ceased loading."),!1)},this.referrerMatch=function(){var a=this.getProp("$"),b=this.getProp("referrer_domain"),c=this.getProp("referrer_exclude"),d=b.split(","),e=document.referrer||!1,f=!1;return this.addMessage("Optin referrer: "+b),this.addMessage("Actual referrer: "+b),this.addMessage("Exclude referrer: "+c),e?(c?(f=!0,a.each(d,function(a,b){return e.indexOf(b)>-1?(f=!1,!1):void 0})):a.each(d,function(a,b){return e.indexOf(b)>-1?(f=!0,!1):void 0}),f&&!c?(this.addMessage("Referrer matches: true"),!0):f&&c?(this.addMessage("Referrer matches: true"),this.log("[OptinMonster] The referrer is allowed."),!0):(c?(this.addMessage("Referrer matches: true"),this.log("[OptinMonster] The page referrer matches the domain referrer, but it is set to be excluded. The optin campaign has ceased loading.")):(this.addMessage("Referrer matches: false"),this.log("[OptinMonster] The page referrer does not match the requested domain referrer. The optin campaign has ceased loading.")),!1)):(this.addMessage("Referrer matches: false"),this.log("[OptinMonster] No referrer was specified for this page. The optin campaign has ceased loading."),!1)},this.rulesMatch=function(){var a=this.getProp("$"),b=this,c=this.getProp("rules");if(this.getProp("rules_engine").hasOwnProperty("rulesets"))return c=this.getProp("rules_engine").rulesets,this.rulesEnginePass(JSON.parse(c));var d=a.map(c,function(c){var d=a.map(c,function(a,c){var d="rule"+b.ucWord(a.key),e="operator"+b.ucWord(a.operator);return b[d](b[e],a.value)});return d.every(function(a,b,c){return a})});return a.inArray(!0,d)>-1},this.rulesEnginePass=function(a){var b=[],c=[],d=this,e=this.getProp("$");if(e.each(a,function(a,d){"true"===d.display?b.push(d):"false"===d.display&&c.push(d)}),c.length>0){e.each(c,function(a,b){e.map(b.rules,function(a,b){var c="rule"+d.getRuleMethod(a.type),e=a.condition?"condition"+d.getRuleMethod(a.condition):void 0,f=a.value||void 0;return d[c](d[e],f)})})}if(b.length>0){e.each(b,function(a,b){e.map(b.rules,function(a,b){var c="rule"+d.getRuleMethod(a.type),e=a.condition?"condition"+d.getRuleMethod(a.condition):void 0,f=a.value||void 0;return d[c](d[e],f)})})}},this.ruleSlug=function(a,b){return this.ruleUrlSlug(a,b)},this.ruleUrlSlug=function(a,b){var c=window.location.pathname.substr(1);return a(c,b)},this.campaignIsActive=function(){var a=this.getProp("campaign_status");return this.addMessage("Campaign status: "+a),"paused"==a?(this.log("[OptinMonster] This campaign has been paused."),!1):!0},this.socialServices=function(){{var a=this;a.getProp("$"),a.getProp("optin")}"undefined"!=typeof FB&&null!=FB&&FB.hasOwnProperty("XFBML")&&FB.XFBML.parse(),"undefined"!=typeof twttr&&null!=twttr&&twttr.hasOwnProperty("widgets")&&twttr.widgets.load(),setTimeout(function(){a.positionOptin()},500),a.trigger("OptinMonsterSocial")},this.getScrollPercentage=function(){var a=this.getProp("$"),b=a(window).scrollTop()||0,c=a(document).height(),d=a(window).height();return Math.round(b/(c-d)*100)},this.corsPatch=function(){var a=this.getProp("$");if(!a.support.cors&&a.ajaxTransport&&window.XDomainRequest){var b=/^(https?:)?\/\//i,c=/^get|post$/i,d=new RegExp("^(//|"+location.protocol+")","i");a.ajaxTransport("* text html xml json",function(e,f,g){if(e.crossDomain&&e.async&&c.test(e.type)&&b.test(e.url)&&d.test(e.url)){var h=null;return{send:function(b,c){var d="",g=(f.dataType||"").toLowerCase();h=new XDomainRequest,/^\d+$/.test(f.timeout)&&(h.timeout=f.timeout),h.ontimeout=function(){c(500,"timeout")},h.onload=function(){var b="Content-Length: "+h.responseText.length+"\r\nContent-Type: "+h.contentType,d={code:200,message:"success"},e={text:h.responseText};try{if("html"===g||/text\/html/i.test(h.contentType))e.html=h.responseText;else if("json"===g||"text"!==g&&/\/json/i.test(h.contentType))try{e.json=a.parseJSON(h.responseText)}catch(f){d.code=500,d.message="parseerror"}else if("xml"===g||"text"!==g&&/\/xml/i.test(h.contentType)){var i=new ActiveXObject("Microsoft.XMLDOM");i.async=!1;try{i.loadXML(h.responseText)}catch(f){i=void 0}if(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)throw d.code=500,d.message="parseerror","Invalid XML: "+h.responseText;e.xml=i}}catch(j){throw j}finally{c(d.code,d.message,e,b)}},h.onprogress=function(){},h.onerror=function(){c(500,"error",{text:h.responseText})},f.data&&(d="string"===a.type(f.data)?f.data:a.param(f.data)),h.open(e.type,e.url),h.send(d)},abort:function(){h&&h.abort()}}}}),this.setProp("$",a)}},this.setDefaults=function(){var a="https:"==document.location.protocol?"https://":"http://",b=this.getProp("staging")?"staging-api":"api";this.getProp("beta")&&(b="beta-api"),this.getProp("dev")?(this.setProp("api_optin",a+"app.optinmonster.dev/v1/optin/"),this.setProp("api_site",a+"app.optinmonster.dev/v1/optins/site/"),this.setProp("api_convert",a+"app.optinmonster.dev/v1/convert/")):(this.setProp("api_optin",a+b+".optnmnstr.com/v1/optin/"),this.setProp("api_site",a+b+".optnmnstr.com/v1/optins/site/"),this.setProp("api_convert",a+b+".optnmnstr.com/v1/convert/"))},this.addMessage=function(a,b){var c=this,d=this.getProp("$"),e=d.inArray(a,c.loggedMessages)>-1;e||(c.loggedMessages.push(a),b?c.messages.unshift(a):c.messages.push(a))},this.displayDebugLog=function(){var a=this.getProp("$"),b=this.getProp("u"),c=this.getProp("campaign"),d=this.getProp("optin");console.group(d?"OptinMonster Debug Info: "+c+" ("+d+")":"OptinMonster Debug Info: "+b),a.each(this.messages,function(a,b){console.log(b)}),console.groupEnd(),this.messages.length=0},this.isPopup=function(a){var b=["lightbox","full-page-takeover","canvas","mobile"],c=this.getProp("$");return c.inArray(a,b)>-1||!1},this.ucWord=function(a){return a.charAt(0).toUpperCase()+a.substr(1)},this.getCurrentTimestamp=function(){return Date.now()},this.getReferrer=function(){return document.referrer||""},this.getSessionStartTime=function(){return"object"==typeof sessionStorage?parseInt(sessionStorage.getItem("om-session-start")):!1},this.getScrollAmount=function(a){return 1===a?this.getWindowScrollTop():this.getScrollPercentage()},this.getWindowScrollTop=function(){return this.getProp("$")(window).scrollTop()},this.getDocumentScrollTop=function(){return document.documentElement.scrollTop},this.getBodyScrollTop=function(){return document.body.scrollTop},this.getDocumentScrollHeight=function(){return document.documentElement.scrollHeight},this.getDocumentClientHeight=function(){return document.documentElement.clientHeight},this.getUrlPath=function(){return window.location.pathname.substr(1).replace(/\/$/,"")},this.getUrlHash=function(){return window.location.hash.substr(1)},this.getSessionPageviews=function(){return"object"==typeof sessionStorage?sessionStorage.getItem("om-session-pageviews"):!1},this.incrementSessionPageviews=function(){if("object"==typeof sessionStorage)try{var a=sessionStorage.getItem("om-session-pageviews");null===a?sessionStorage.setItem("om-session-pageviews",1):sessionStorage.setItem("om-session-pageviews",++a)}catch(b){}},this.registerVariables=function(){void 0!==window.OptinMonsterCustomVariables&&"function"==typeof OptinMonsterCustomVariables&&OptinMonsterCustomVariables(this)},this.setCustomVariable=function(a,b){OptinMonsterAppVariables[a]=b},this.getCustomVariable=function(a){return OptinMonsterAppVariables.hasOwnProperty(a)?OptinMonsterAppVariables[a]:!1},this.getCustomVariables=function(){return OptinMonsterAppVariables},this.hasCustomVariable=function(a){return OptinMonsterAppVariables.hasOwnProperty(a)},this.hasCustomVariables=function(){return!this.getProp("$").isEmptyObject(OptinMonsterAppVariables)},this.replaceCustomVariables=function(){var a=this,b=a.getProp("$"),c=b.trim(a.getProp("html")),d=c.match(/\{\{(.*?)\}\}/g),e=this.getQueryParameters();this.getProp("preview")||d&&(b.each(d,function(b,d){var f=d,g=d.replace("{{",""),g=g.replace("}}",""),g=g.split("|");if(!(!0 in g))if("undefined"!=typeof e&&"undefined"!=typeof e[g[0]])c=c.replace(f,decodeURIComponent(e[g[0]]));else if(a.getCookie(g[0]))c=c.replace(f,a.getCookie(g[0]));else if(a.getCustomVariable(g[0]))c=c.replace(f,a.getCustomVariable(g[0]));else{if("undefined"==typeof g[1])return c=c.replace(f+" ",""),void(c=c.replace(f,""));c=c.replace(f,g[1])}}),a.setProp("html",c))},this.deleteCustomVariable=function(a){delete OptinMonsterAppVariables[a]},this.getjQueryTrigger=function(){var a=this.getProp("ejQuery").fn.jquery.split("."),b="on";return parseInt(a[0])>0&&parseInt(a[1])<7&&(b="bind"),b},this.isHolderSet=function(a){var b=this,c=b.getProp("$"),d=c("#om-"+a+"-holder");return 0===d.length?!1:!0}};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=OptinMonsterApp:window.OptinMonsterApp=OptinMonsterApp;